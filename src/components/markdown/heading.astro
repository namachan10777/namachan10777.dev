---
import type { HTMLAttributes } from 'astro/types';
import { Icon } from 'astro-icon/components';

export interface Props {
  id: string;
  level: 1 | 2 | 3 | 4 | 5 | 6;
}

const props = Astro.props;
---

<div>
  {
    (() => {
      switch (props.level) {
        case 1:
          return (
            <h1 id={props.id}>
              <slot />
            </h1>
          );
        case 2:
          return (
            <h2 id={props.id}>
              <slot />
            </h2>
          );
        case 3:
          return (
            <h3 id={props.id}>
              <slot />
            </h3>
          );
        case 4:
          return (
            <h4 id={props.id}>
              <slot />
            </h4>
          );
        case 5:
          return (
            <h5 id={props.id}>
              <slot />
            </h5>
          );
        case 6:
          return (
            <h6 id={props.id}>
              <slot />
            </h6>
          );
      }
    })()
  }
  <a href={`#${props.id}`}>
    <Icon name="iconoir:link" />
  </a>
</div>

<style>
  div {
    display: inline-flex;
    flex-direction: row;
    align-items: center;
    margin-top: 1.5rem;
    gap: 0.5rem;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin: 0;
  }

  div:hover a {
    opacity: 1;
  }

  a {
    opacity: 0;
    display: flex;
    transition: opacity 0.2s ease;
  }

  a svg {
    font-size: x-large;
  }
</style>
