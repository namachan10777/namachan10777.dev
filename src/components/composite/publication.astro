---
import type { CollectionEntry } from "astro:content";
import Anchor from "../mdx/anchor.astro";

export interface Props {
  pub: CollectionEntry<"pub">;
}

const { data } = Astro.props.pub;
---

<div>
  <span class="year">{data.date.getFullYear()}</span>
  <h3 class="title">
    {
      data.href ? (
        <a class="anchor" href={data.href}>
          {data.title}
        </a>
      ) : (
        data.title
      )
    }
  </h3>
  <span class="booktitle">{data.booktitle}</span>
</div>

<style>
  @layer component {
    .anchor {
      text-decoration: underline;
    }

    .anchor:hover {
      color: var(--fg-link);
    }

    .year {
      font-family: var(--font-mono);
      color: var(--fg-weak);
      font-size: var(--font-size-sm);
    }

    .title {
      font-weight: bold;
    }

    .booktitle {
      font-size: var(--font-size-sm);
      color: var(--fg-weak);
    }
  }
</style>
