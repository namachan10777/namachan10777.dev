+++
title = "個人サイトをNext.jsで書き直した"
name = "blog-on-nextjs"
category = ["tech"]
+++

今まではRustを使った自作静的サイトジェネレータを使っていたが、
どうにも設計が行き詰まっていた。
思い返すと自作したマークアップ言語の仕様がこうしたブログには合ってなかったのだが、
Vercelの最適化に乗りたかったのもあるしまぁ悪くない選択だと思う。

Markdownは`remark`で`getStaticProps`の中で処理している。
SSRするなら性能上問題が出るがSSGだから別に良いだろう。
また政治的理由からAMP対応をやめたが、余分なJSが付いてくるのが気になるところではある。

ある程度Markdownを処理できるようにはしたがシンタックスハイライトの対応はまだだし、
headingのレベルを見て`<section>`でうまくまとめるような処理も入れてない。
そのうち対応したい。
